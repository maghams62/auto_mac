{
  "permissions": {
    "allow": [
      "Bash(echo:*)",
      "Bash(/Users/siddharthsuresh/Downloads/auto_mac/requirements.txt)",
      "Bash(pip install:*)",
      "Bash(./run_tests.sh:*)",
      "Bash(python:*)",
      "Bash(mkdir:*)",
      "Bash(mv:*)",
      "Bash(tee:*)",
      "Bash(curl:*)",
      "Bash(osascript:*)",
      "Bash(system_profiler:*)",
      "Bash(sips:*)",
      "Bash(chmod:*)",
      "Bash(timeout 45 python:*)",
      "Bash(tree:*)",
      "Bash(timeout 10 python:*)",
      "Bash(pkill:*)",
      "Bash(cat:*)",
      "Bash(node --version:*)",
      "Bash(npm --version)",
      "Bash(npm install:*)",
      "Bash(npm run build:*)",
      "Bash(brew list:*)",
      "Bash(./start_ui.sh:*)",
      "Bash(git log:*)",
      "Bash(sdef:*)",
      "Bash(lsof:*)",
      "Bash(unzip:*)",
      "Bash(python3:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nFix hardcoded values in prompts and add validation tests\n\nThis PR addresses the \"test_data\" bug where hardcoded values in prompt examples\ncaused the LLM to use incorrect folders, paths, and emails instead of using\nconfig.yaml values or user-specified parameters.\n\n## Critical Fixes\n\n### 1. Hardcoded Email Address (HIGH)\n- **File**: prompts/tool_definitions.md:200\n- **Issue**: Hardcoded `spamstuff062@gmail.com` example\n- **Fix**: Changed to `your-email@example.com from config.yaml`\n\n### 2. Hardcoded Folder Names (HIGH)\n- **File**: prompts/folder_agent_policy.md:87\n- **Issue**: Hardcoded `test_doc` folder reference  \n- **Fix**: Changed to generic `my documents` reference\n\n## Medium Priority Fixes\n\n### 3. Hardcoded File Paths\n- **Files**: prompts/tool_definitions.md (lines 175, 218, 1843)\n- **Issue**: Paths like `/Users/me/Documents/` and `~/Documents/`\n- **Fix**: Changed to `$stepN.doc_path` references\n\n### 4. Folder Name Examples\n- **Files**: prompts/task_decomposition.md, tool_definitions.md, examples/\n- **Issue**: `study_stuff`, `misc_folder` without clarification\n- **Fix**: Added inline comments: `// Use user-specified folder name`\n\n### 5. Finance Domain References\n- **File**: prompts/task_decomposition.md:97\n- **Issue**: Hardcoded `finance.yahoo.com, bloomberg.com`\n- **Fix**: Changed to reference `config.yaml (browser.allowed_domains)`\n\n### 6. Example Disclaimers\n- **Files**: 4 example files in prompts/examples/general/\n- **Issue**: Document names like \"Tesla Autopilot\", \"The Night We Met\" without disclaimers\n- **Fix**: Added **Note:** disclaimers explaining these are from user''s request\n\n## Documentation\n\n### 7. Prompt Assembly Order\n- **File**: prompts/README.md\n- **Added**: Complete section documenting prompt hierarchy and assembly order\n- **Rationale**: System â†’ Decomposition â†’ User Context â†’ Tools â†’ Examples\n- **Explains**: Why examples come last (LLM recency bias)\n\n## Validation Tests\n\n### 8. New Test Suite\n- **File**: tests/test_prompt_validation.py  \n- **Purpose**: Prevent future hardcoded values from being added\n- **Tests**:\n  - `test_no_hardcoded_emails`: Catches real email addresses\n  - `test_no_hardcoded_folders`: Ensures folder names have disclaimers\n  - `test_no_hardcoded_paths`: Detects absolute paths with usernames\n  - `test_no_hardcoded_phones`: Catches phone numbers\n  - `test_examples_have_disclaimers`: Ensures examples explain placeholders\n  - `test_tool_definitions_use_step_references`: Validates $stepN usage\n  - `test_tool_selection_not_duplicated`: Flags potential rule duplication\n\nAll tests passing âœ…\n\n## Impact\n\n- **Fixes**: The root cause of workflows searching in wrong folders\n- **Prevents**: Future similar bugs through automated validation\n- **Documents**: Prompt architecture for maintainability\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(gh --version:*)",
      "Bash(git checkout:*)",
      "Bash(git reset:*)",
      "Bash(git commit:*)",
      "Bash(source venv/bin/activate)",
      "Bash(timeout 60 python:*)",
      "Bash(find:*)",
      "Bash(./restart_server.sh:*)",
      "Bash(mdfind:*)",
      "Bash(timeout 60 python3:*)",
      "Bash(gtimeout 60 python3:*)",
      "Bash(timeout:*)",
      "Bash(gtimeout 15 ./start_ui.sh:*)",
      "Bash(kill:*)",
      "Bash(xargs kill -9)",
      "Bash(export PATH=\"/usr/local/bin:/opt/homebrew/bin:$PATH\")",
      "Bash(export PATH=\"/opt/homebrew/bin:$PATH\")",
      "Bash(npx tsc:*)",
      "Bash(export PATH=\"/opt/homebrew/bin:/usr/bin:$PATH\")",
      "Bash([ -f /Users/siddharthsuresh/Downloads/auto_mac/desktop/README.md ])",
      "Bash(git push:*)",
      "Bash(git branch:*)",
      "Bash(npm run build:electron:*)",
      "Bash(export PATH=\"/opt/homebrew/bin:/usr/local/bin:$PATH\")",
      "Bash(npm run dev:*)",
      "Bash(/Users/siddharthsuresh/Downloads/auto_mac/desktop/node_modules/.bin/electron:*)",
      "Bash(export PATH=\"/opt/homebrew/bin:/usr/local/bin:/usr/bin:$PATH\")",
      "Bash(node:*)",
      "Bash(npx electron:*)",
      "Bash(node_modules/.bin/electron:*)",
      "Bash(./node_modules/.bin/electron:*)",
      "Bash(npm ls:*)",
      "Bash(ldd:*)",
      "Bash(tsc:*)"
    ],
    "deny": [],
    "ask": []
  }
}
